<div class="school-registration-container">
    <h2 class="page-title">Register Your School for Device Donations</h2>
    <p class="lead">Please provide the necessary information about your school.</p>

    <form (ngSubmit)="registerSchool()" #schoolForm="ngForm">
        <div class="form-group">
            <label for="name">School Name:</label>
            <input type="text" id="name" name="name" class="form-control" [(ngModel)]="schoolData.name" required>
            <div *ngIf="schoolForm.controls['name']?.invalid && (schoolForm.controls['name']?.dirty || schoolForm.controls['name']?.touched)"
                class="error-message">
                School name is required.
            </div>
        </div>

        <div class="form-group">
            <label for="address">Address:</label>
            <input type="text" id="address" name="address" class="form-control" [(ngModel)]="schoolData.address"
                required>
            <div *ngIf="schoolForm.controls['address']?.invalid && (schoolForm.controls['address']?.dirty || schoolForm.controls['address']?.touched)"
                class="error-message">
                School address is required.
            </div>
        </div>

        <div class="form-group">
            <label for="contactPerson">Contact Person:</label>
            <input type="text" id="contactPerson" name="contactPerson" class="form-control"
                [(ngModel)]="schoolData.contactPerson" required>
            <div *ngIf="schoolForm.controls['contactPerson']?.invalid && (schoolForm.controls['contactPerson']?.dirty || schoolForm.controls['contactPerson']?.touched)"
                class="error-message">
                Contact person name is required.
            </div>
        </div>

        <div class="form-group">
            <label for="email">Contact Email:</label>
            <input type="email" id="email" name="email" class="form-control" [(ngModel)]="schoolData.email" required
                email>
            <div *ngIf="schoolForm.controls['email']?.invalid && (schoolForm.controls['email']?.dirty || schoolForm.controls['email']?.touched)"
                class="error-message">
                Please enter a valid email address.
            </div>
        </div>

        <div class="form-group">
            <label for="phone">Phone Number:</label>
            <input type="tel" id="phone" name="phone" class="form-control" [(ngModel)]="schoolData.phone">
        </div>

        <div class="form-group">
            <label for="studentCount">Number of Students in Need:</label>
            <input type="number" id="studentCount" name="studentCount" class="form-control"
                [(ngModel)]="schoolData.studentCount" required min="1">
            <div *ngIf="schoolForm.controls['studentCount']?.invalid && (schoolForm.controls['studentCount']?.dirty || schoolForm.controls['studentCount']?.touched)"
                class="error-message">
                Please enter the number of students in need.
            </div>
        </div>

        <div class="form-group">
            <label for="verificationDocument">Verification Document (e.g., Registration Certificate):</label>
            <input type="file" id="verificationDocument" name="verificationDocument" (change)="onFileSelected($event)">
            <div *ngIf="schoolData.verificationDocumentError" class="error-message">{{
                schoolData.verificationDocumentError }}</div>
        </div>

        <button type="submit" class="primary-button" [disabled]="schoolForm.invalid || loading">
            <i *ngIf="loading" class="fas fa-spinner fa-spin"></i> Register School
        </button>

        <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>
        <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
    </form>
</div>